# BrickUI ç›‘æ§ä¸å®‰å…¨ç³»ç»Ÿ

æœ¬æ–‡æ¡£ä»‹ç» BrickUI é¡¹ç›®ä¸­é›†æˆçš„æ€§èƒ½ç›‘æ§ã€å®‰å…¨å®¡è®¡å’ŒæŠ¥å‘Šç³»ç»Ÿçš„ä½¿ç”¨æ–¹æ³•ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¯åŠ¨ç›‘æ§æœåŠ¡å™¨

```bash
# å¯åŠ¨ç›‘æ§æœåŠ¡å™¨ï¼ˆç«¯å£ 3001ï¼‰
pnpm run monitor:start
```

### åœ¨åº”ç”¨ä¸­é›†æˆæ€§èƒ½ç›‘æ§

```typescript
// åœ¨ä½ çš„ Vue åº”ç”¨ä¸­å¼•å…¥ç›‘æ§
import { PerformanceDashboard } from './src/monitoring/dashboard';

// åˆå§‹åŒ–ç›‘æ§
const dashboard = new PerformanceDashboard({
  endpoint: 'http://localhost:3001/api/metrics',
  debug: true
});

// å¼€å§‹æ”¶é›†æŒ‡æ ‡
dashboard.init();
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### å¯ç”¨è„šæœ¬

```bash
# ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
pnpm run report:performance

# è¿è¡Œ Lighthouse åˆ†æ
pnpm run lighthouse

# åˆ†ææ‰“åŒ…ä½“ç§¯
pnpm run analyze
pnpm run build:analyze
```

### ç›‘æ§æŒ‡æ ‡

- **LCP (Largest Contentful Paint)**: æœ€å¤§å†…å®¹ç»˜åˆ¶æ—¶é—´
- **FID (First Input Delay)**: é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ
- **CLS (Cumulative Layout Shift)**: ç´¯ç§¯å¸ƒå±€åç§»
- **FCP (First Contentful Paint)**: é¦–æ¬¡å†…å®¹ç»˜åˆ¶
- **TTFB (Time to First Byte)**: é¦–å­—èŠ‚æ—¶é—´

### æ€§èƒ½é˜ˆå€¼

| æŒ‡æ ‡ | è‰¯å¥½    | éœ€è¦æ”¹è¿›      | å·®      |
| ---- | ------- | ------------- | ------- |
| LCP  | < 2.5s  | 2.5s - 4.0s   | > 4.0s  |
| FID  | < 100ms | 100ms - 300ms | > 300ms |
| CLS  | < 0.1   | 0.1 - 0.25    | > 0.25  |

## ğŸ”’ å®‰å…¨å®¡è®¡

### å¯ç”¨è„šæœ¬

```bash
# è¿è¡Œå®‰å…¨å®¡è®¡
pnpm run audit

# ç”Ÿæˆå®‰å…¨æŠ¥å‘Š
pnpm run report:security

# è‡ªåŠ¨ä¿®å¤å®‰å…¨æ¼æ´
pnpm run security:auto-fix
```

### è‡ªåŠ¨åŒ–å®‰å…¨ä¿®å¤

ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š

1. æ‰«æä¾èµ–æ¼æ´
2. å°è¯•è‡ªåŠ¨ä¿®å¤
3. ç”Ÿæˆä¿®å¤æŠ¥å‘Š
4. åˆ›å»º Pull Requestï¼ˆåœ¨ CI/CD ç¯å¢ƒä¸­ï¼‰

## ğŸ“ˆ æŠ¥å‘Šç³»ç»Ÿ

### ç”ŸæˆæŠ¥å‘Š

```bash
# ç”Ÿæˆå®Œæ•´çš„æ€§èƒ½å’Œå®‰å…¨æŠ¥å‘Š
node scripts/generate-reports.js
```

### æŠ¥å‘Šå†…å®¹

#### æ€§èƒ½æŠ¥å‘Š

- Lighthouse åˆ†æç»“æœ
- Bundle å¤§å°åˆ†æ
- æ€§èƒ½æŒ‡æ ‡è¶‹åŠ¿
- ä¼˜åŒ–å»ºè®®

#### å®‰å…¨æŠ¥å‘Š

- ä¾èµ–æ¼æ´æ‰«æ
- å®‰å…¨é£é™©è¯„ä¼°
- ä¿®å¤å»ºè®®
- åˆè§„æ€§æ£€æŸ¥

### æŸ¥çœ‹æŠ¥å‘Š

æŠ¥å‘Šç”Ÿæˆåä¼šä¿å­˜åœ¨ä»¥ä¸‹ä½ç½®ï¼š

- `reports/performance-report.html` - æ€§èƒ½æŠ¥å‘Š
- `reports/security-report.html` - å®‰å…¨æŠ¥å‘Š
- `reports/performance-data.json` - æ€§èƒ½æ•°æ®
- `reports/security-data.json` - å®‰å…¨æ•°æ®

## ğŸ”„ è‡ªåŠ¨åŒ–å·¥ä½œæµ

### GitHub Actions

é¡¹ç›®é…ç½®äº†ä»¥ä¸‹è‡ªåŠ¨åŒ–å·¥ä½œæµï¼š

1. **å®‰å…¨è‡ªåŠ¨ä¿®å¤** (`.github/workflows/security-auto-fix.yml`)
   - æ¯å‘¨ä¸€å‡Œæ™¨è¿è¡Œ
   - è‡ªåŠ¨æ‰«æå’Œä¿®å¤å®‰å…¨æ¼æ´
   - åˆ›å»º Pull Request

2. **æŠ¥å‘Šç”Ÿæˆ** (`.github/workflows/reports.yml`)
   - æ¯å‘¨ä¸€æ—©ä¸Š6ç‚¹è¿è¡Œ
   - ç”Ÿæˆæ€§èƒ½å’Œå®‰å…¨æŠ¥å‘Š
   - éƒ¨ç½²åˆ° GitHub Pages

### æ‰‹åŠ¨è§¦å‘

ä½ ä¹Ÿå¯ä»¥åœ¨ GitHub Actions é¡µé¢æ‰‹åŠ¨è§¦å‘è¿™äº›å·¥ä½œæµã€‚

## ğŸ› ï¸ é…ç½®

### Lighthouse é…ç½®

ç¼–è¾‘ `lighthouserc.js` æ–‡ä»¶æ¥è‡ªå®šä¹‰ Lighthouse é…ç½®ï¼š

```javascript
module.exports = {
  ci: {
    collect: {
      startServerCommand: 'pnpm run dev',
      url: ['http://localhost:5173'],
      numberOfRuns: 3
    },
    assert: {
      assertions: {
        'categories:performance': ['warn', { minScore: 0.8 }],
        'categories:accessibility': ['error', { minScore: 0.9 }]
      }
    }
  }
};
```

### ç›‘æ§æœåŠ¡å™¨é…ç½®

ç›‘æ§æœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ç«¯å£ 3001ï¼Œä½ å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹ï¼š

```bash
PORT=3001 node scripts/monitoring-server.js
```

## ğŸ“± ç›‘æ§ä»ªè¡¨æ¿

è®¿é—® `http://localhost:3001/dashboard` æŸ¥çœ‹å®æ—¶ç›‘æ§ä»ªè¡¨æ¿ï¼ŒåŒ…æ‹¬ï¼š

- å®æ—¶æ€§èƒ½æŒ‡æ ‡
- æ€§èƒ½è¶‹åŠ¿å›¾
- çŠ¶æ€ç›‘æ§
- è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½

## ğŸš¨ å‘Šè­¦å’Œé€šçŸ¥

### æ€§èƒ½å‘Šè­¦

å½“æ€§èƒ½æŒ‡æ ‡è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œç³»ç»Ÿä¼šï¼š

1. åœ¨æ§åˆ¶å°è¾“å‡ºè­¦å‘Š
2. è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶
3. å‘é€åˆ°ç›‘æ§æœåŠ¡å™¨

### å®‰å…¨å‘Šè­¦

å½“å‘ç°å®‰å…¨æ¼æ´æ—¶ï¼Œç³»ç»Ÿä¼šï¼š

1. ç”Ÿæˆè¯¦ç»†çš„å®‰å…¨æŠ¥å‘Š
2. å°è¯•è‡ªåŠ¨ä¿®å¤
3. åˆ›å»º GitHub Issueï¼ˆå¦‚æœé…ç½®ï¼‰

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç›‘æ§æœåŠ¡å™¨æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥ç«¯å£ 3001 æ˜¯å¦è¢«å ç”¨
   - ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²æ­£ç¡®å®‰è£…

2. **Lighthouse æŠ¥å‘Šç”Ÿæˆå¤±è´¥**
   - ç¡®ä¿å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
   - æ£€æŸ¥ `lighthouserc.js` é…ç½®

3. **å®‰å…¨æ‰«æå¤±è´¥**
   - æ›´æ–° `pnpm` åˆ°æœ€æ–°ç‰ˆæœ¬
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼è·å–æ›´å¤šä¿¡æ¯ï¼š

```bash
DEBUG=true pnpm run monitor:start
```

## ğŸ“š æ›´å¤šèµ„æº

- [Web Vitals æ–‡æ¡£](https://web.dev/vitals/)
- [Lighthouse æ–‡æ¡£](https://developers.google.com/web/tools/lighthouse)
- [Snyk å®‰å…¨æ‰«æ](https://snyk.io/)
- [PNPM å®¡è®¡æ–‡æ¡£](https://pnpm.io/cli/audit)

## ğŸ¤ è´¡çŒ®

å¦‚æœä½ å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š

1. åˆ›å»º Issue æè¿°é—®é¢˜
2. æäº¤ Pull Request
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

---

**æ³¨æ„**: è¿™äº›å·¥å…·ä¸»è¦ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æ—¶ï¼Œè¯·ç¡®ä¿é€‚å½“é…ç½®å®‰å…¨è®¾ç½®å’Œè®¿é—®æ§åˆ¶ã€‚
